---
title: "Mini-Project"
author: "Grace Wagner and Nathanael Kovscek"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Front Matter Including Task 1
```{r warnings = FALSE, message = FALSE}
# Load necessary libraries
library(tidyverse)
library(ggplot2)
library(lubridate)

#Part 1
library(readxl)
CODGames2_mp <- read_excel("data/CODGames2_mp.xlsx")
```

## Task 2

Explore 6 variables (at least 1 categorical and 1 quantitative). <br>

Identify:
- variable and type of variable #DONE
- types of values the variable can take #DONE
- amount of missing data within variable #DONE
- summary statistics #DONE
- visualization #DONE
- write a few sentences to describe what you have learned about the variable #NEED TO FINISH <br>

If Categorical:
- make a table of possible values and include counts or proportions #DONE
- make an appropriate plot to show the distribution of values #DONE <br>

if Quantitative:
- Include some basic summary stats like the mean, median, standard deviation, min, max, etc. #DONE
- make an appropriate plot to show the distribution of values #DONE


```{r}
#Variable 1: Eliminations
#type
typeof(CODGames2_mp$Eliminations)
#range
range(CODGames2_mp$Eliminations)
#missing value
sum(is.na(CODGames2_mp$Eliminations))
#summary stats
CODGames2_mp %>%
  summarize(
    mean = mean(Eliminations),
    median = median(Eliminations),
    sd = sd(Eliminations),
    min = min(Eliminations),
    max = max(Eliminations)
  )
#plot
hist(CODGames2_mp$Eliminations,
     xlab = "Eliminations",
     main = "Distribution of Eliminations")

#Variable 2: Deaths
typeof(CODGames2_mp$Deaths)
range(CODGames2_mp$Deaths)
sum(is.na(CODGames2_mp$Deaths))
CODGames2_mp %>%
  summarize(
    mean = mean(Deaths),
    median = median(Deaths),
    sd = sd(Deaths),
    min = min(Deaths),
    max = max(Deaths)
  )
hist(CODGames2_mp$Deaths,
     xlab = "Deaths",
     main = "Distribution of Deaths")

#Variable 3: Score
typeof(CODGames2_mp$Score)
range(CODGames2_mp$Score)
sum(is.na(CODGames2_mp$Score))
CODGames2_mp %>%
  summarize(
    mean = mean(Score),
    median = median(Score),
    sd = sd(Score),
    min = min(Score),
    max = max(Score)
  )
hist(CODGames2_mp$Score,
     xlab = "Score",
     main = "Distribution of Score")

#Variable 4: Damage
typeof(CODGames2_mp$Damage)
range(CODGames2_mp$Damage)
sum(is.na(CODGames2_mp$Damage))
CODGames2_mp %>%
  summarize(
    mean = mean(Damage),
    median = median(Damage),
    sd = sd(Damage),
    min = min(Damage),
    max = max(Damage)
  )
hist(CODGames2_mp$Damage,
     xlab = "Damage",
     main = "Distribution of Damage")

#Variable 5: TotalXP
typeof(CODGames2_mp$TotalXP)
range(CODGames2_mp$TotalXP)
sum(is.na(CODGames2_mp$TotalXP))
CODGames2_mp %>%
  summarize(
    mean = mean(TotalXP),
    median = median(TotalXP),
    sd = sd(TotalXP),
    min = min(TotalXP),
    max = max(TotalXP)
  )
hist(CODGames2_mp$TotalXP,
     xlab = "TotalXP",
     main = "Distribution of TotalXP")

#Number 6 Candidates (or remove a quantitative one and add both categorical)

#Variable 6: PrimaryWeapon
typeof(CODGames2_mp$PrimaryWeapon)
unique(CODGames2_mp$PrimaryWeapon)
sum(is.na(CODGames2_mp$PrimaryWeapon))
tableWeapons <- CODGames2_mp %>%
  group_by(PrimaryWeapon) %>%
  summarize(N = n())

ggplot(CODGames2_mp, aes(PrimaryWeapon)) +
  geom_bar() +
  labs(title = "Distribution of Primary Weapons", x = "Primaray Weapons")
  

#Variable 6: Choice #Has NA values
typeof(CODGames2_mp$Choice)
unique(CODGames2_mp$Choice)
sum(is.na(CODGames2_mp$Choice))
CODGames2_mp %>%
  group_by(Choice) %>%
  summarize(N = n())

ggplot(CODGames2_mp, aes(Choice)) +
  geom_bar() +
  scale_x_discrete(guide = guide_axis(n.dodge = 4)) +
  labs(title = "Distribution of Choices", xlab = "Choices")
```

## Task 3

All of our questions are regarding what the variables mean. Here they are: <br><br>
<ul>
  <li>What aspects of the game play into the variable Score? How can one score high? How does it differ from                  TotalXP?</li>
  <li>What would cause the variable "Choice" - which is the choice of map in which the game is played - to have an NA         value?</li>
  <li>What is the relationship between Map1, Map2, Choice, and MapVote?</li>
  <li>What does the ratio mean in the variable MapVote?</li>
  <li>What are the different GameTypes?</li>
  <li>What does the Results table represent and does the meaning change among game types?</li>
</ul>

## Task 4

### Part 1

Is the playerâ€™s performance, as quantified by the amount of experience points gained (TotalXP variable) changing over time?

```{r}
# Create a new table with TotalXP, Date, and then year, month, day derived from Date
# the lubridate package is loaded in with tidyverse

xp <- CODGames2_mp %>% 
  select("Date", "TotalXP") %>% 
  mutate(year = year(CODGames2_mp$Date), 
         month = month.name[month(CODGames2_mp$Date)],
         day = day(CODGames2_mp$Date)
         )

# Use fct_inorder to order boxplots by month
ggplot(data = xp, mapping = aes( x = fct_inorder(month), y = TotalXP)) +
  geom_boxplot() +
  labs(title = "TotalXP Earning by Month", 
       x = "Month",
       y = "TotalXP Earned")



```
<br> *Assessment:* <br><br>

It does not appear that there is any improvement whatsoever across the three months in which the user played the game. In fact, the median value of XP earned in a day during a given month is less in both July and August as compared to June. Arguably, the user's performance worsened.<br><br>

However, there are numerous variables at play here. Game play could have affected the TotalXP value. Additionally, the user might decide that, once his performance with a particular weapon reaches a certain level, he wants to use a different weapon. So, while he apparently is not earning more XP over time, that does not necessarily mean that he is becoming worse at the game.<br><br>

The one final note is that the user might not have played as much from month to month. Such variability in game play would also affect our assessment.<br><br>

### Part 2

question I was thinking we could ask: which primary weapon (or choice, but choice has NA values) resulted in the most deaths/elimintaions/totalXp


What is the relationship between deaths and eliminations over time?